--NPC:上官诗音

--表头
function npctop1()
  Hero:ActFun(101,"&&<0_你明知道一件事不能去做，却还要去做。>",0)
end

--任务 0505
function npcmid05050()
  Hero:ActFun(102,"[44]疑心重重 2050201",0)
end

function npcmid05051()
  Hero:ActFun(102,"[3]疑心重重 2050202",0)
end

function npcmid05052()
  Hero:ActFun(102,"[22]疑心重重 2050201",0)
end

--任务 0506
function npcmid05060()
  Hero:ActFun(102,"[44]疑心重重（1） 2050203",0)
end

function npcmid05061()
  Hero:ActFun(102,"[3]疑心重重（1） 2050204",0)
end

function npcmid05062()
  Hero:ActFun(102,"[22]疑心重重（1） 2050203",0)
end

--任务 0507
function npcmid05070()
  Hero:ActFun(102,"[44]疑心重重（2） 2050205",0)
end

function npcmid05071()
  Hero:ActFun(102,"[3]疑心重重（2） 2050206",0)
end

function npcmid05072()
  Hero:ActFun(102,"[22]疑心重重（2） 2050205",0)
end

--任务 0508
function npcmid05080()
  Hero:ActFun(102,"[44]无罪之有 2050207",0)
end

function npcmid05081()
  Hero:ActFun(102,"[3]无罪之有 2050208",0)
end

function npcmid05082()
  Hero:ActFun(102,"[22]无罪之有 2050207",0)
end

--任务 0509
function npcmid05090()
  Hero:ActFun(102,"[44]无罪之有（1） 2050209",0)
end

function npcmid05091()
  Hero:ActFun(102,"[3]无罪之有（1） 2050210",0)
end

function npcmid05092()
  Hero:ActFun(102,"[22]无罪之有（1） 2050209",0)
end

--任务 0511
function npcmid05110()
  Hero:ActFun(102,"[44]风云再起（1） 2050211",0)
end

function npcmid05111()
  Hero:ActFun(102,"[3]风云再起（1） 2050212",0)
end

function npcmid05112()
  Hero:ActFun(102,"[22]风云再起（1） 2050211",0)
end

--任务 0512
function npcmid05120()
  Hero:ActFun(102,"[44]风云再起（2） 2050213",0)
end

function npcmid05121()
  Hero:ActFun(102,"[3]风云再起（2） 2050214",0)
end

function npcmid05122()
  Hero:ActFun(102,"[22]风云再起（2） 2050213",0)
end

--任务 0513
function npcmid05130()
  Hero:ActFun(102,"[44]风云再起（3） 2050215",0)
end

function npcmid05131()
  Hero:ActFun(102,"[3]风云再起（3） 2050216",0)
end

function npcmid05132()
  Hero:ActFun(102,"[22]风云再起（3） 2050215",0)
end

--任务 0514
function npcmid05140()
  Hero:ActFun(102,"[44]风云变动 2050217",0)
end

function npcmid05141()
  Hero:ActFun(102,"[3]风云变动 2050218",0)
end

function npcmid05142()
  Hero:ActFun(102,"[22]风云变动 2050217",0)
end

--任务 0515
function npcmid05150()
  Hero:ActFun(102,"[44]风云变动（1） 2050219",0)
end

function npcmid05151()
  Hero:ActFun(102,"[3]风云变动（1） 2050220",0)
end

function npcmid05152()
  Hero:ActFun(102,"[22]风云变动（1） 2050219",0)
end

--任务 0520
function npcmid05200()
  Hero:ActFun(102,"[44]赎罪 2050221",0)
end

function npcmid05201()
  Hero:ActFun(102,"[3]赎罪 2050222",0)
end

function npcmid05202()
  Hero:ActFun(102,"[22]赎罪 2050221",0)
end

--任务 0521
function npcmid05210()
  Hero:ActFun(102,"[44]赎罪（1） 2050223",0)
end

function npcmid05211()
  Hero:ActFun(102,"[3]赎罪（1） 2050224",0)
end

function npcmid05212()
  Hero:ActFun(102,"[22]赎罪（1） 2050223",0)
end


--转向选项 0505
function npctask1()
  Hero:ActFun(1046,"5 5",3)
end

function npctask2()
  Hero:ActFun(1046,"5 5",29)
end

--转向选项 0506
function npctask3()
  Hero:ActFun(1046,"5 6",3)
end

function npctask4()
  Hero:ActFun(1046,"5 6",29)
end

--转向选项 0507
function npctask5()
  Hero:ActFun(1046,"5 7",3)
end

function npctask6()
  Hero:ActFun(1046,"5 7",29)
end

--转向选项 0508
function npctask7()
  Hero:ActFun(1046,"5 8",3)
end

function npctask8()
  Hero:ActFun(1046,"5 8",29)
end

--转向选项 0509
function npctask9()
  Hero:ActFun(1046,"5 9",3)
end

function npctask10()
  Hero:ActFun(1046,"5 9",29)
end

--转向选项 0511
function npctask11()
  Hero:ActFun(1046,"5 11",3)
end

function npctask12()
  Hero:ActFun(1046,"5 11",29)
end

--转向选项 0512
function npctask13()
  Hero:ActFun(1046,"5 12",3)
end

function npctask14()
  Hero:ActFun(1046,"5 12",29)
end

--转向选项 0513
function npctask15()
  Hero:ActFun(1046,"5 13",3)
end

function npctask16()
  Hero:ActFun(1046,"5 13",29)
end

--转向选项 0514
function npctask17()
  Hero:ActFun(1046,"5 14",3)
end

function npctask18()
  Hero:ActFun(1046,"5 14",29)
end

--转向选项 0515
function npctask19()
  Hero:ActFun(1046,"5 15",3)
end

function npctask20()
  Hero:ActFun(1046,"5 15",29)
end

--转向选项 0520
function npctask21()
  Hero:ActFun(1046,"5 20",3)
end

function npctask22()
  Hero:ActFun(1046,"5 20",29)
end

--转向选项 0521
function npctask23()
  Hero:ActFun(1046,"5 21",3)
end

function npctask24()
  Hero:ActFun(1046,"5 21",29)
end


--表尾函数
function npcTail()
  Hero:ActFun(103,"",0)
end


--显示选项
if(gContext==2050200)then
--显示表头
npctop1()


  --任务结构链开始
  if(Hero:ActFun(1001,"level >= 20",0) == true)then
  if(Hero:ActFun(1080,"mask == 5",5) == false)then
  if(Hero:ActFun(1080,"task has 0",5) == true)then


    --任务步骤结构开始 0505
    if(Hero:ActFun(1080,"step == 5",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        --npcmid05050()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        npcmid05052()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        --npcmid05051()
      end
    end

    --任务步骤结构开始 0506
    if(Hero:ActFun(1080,"step == 6",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        npcmid05060()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        --npcmid05062()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        npcmid05061()
      end
    end

    --任务步骤结构开始 0507
    if(Hero:ActFun(1080,"step == 7",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        --npcmid05070()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        npcmid05072()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        --npcmid05071()
      end
    end

    --任务步骤结构开始 0508
    if(Hero:ActFun(1080,"step == 8",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        npcmid05080()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        npcmid05082()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        npcmid05081()
      end
    end

    --任务步骤结构开始 0509
    if(Hero:ActFun(1080,"step == 9",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        npcmid05090()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        --npcmid05092()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        npcmid05091()
      end
    end

    --任务步骤结构开始 0511
    if(Hero:ActFun(1080,"step == 11",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        --npcmid05110()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        npcmid05112()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        --npcmid05111()
      end
    end

    --任务步骤结构开始 0512
    if(Hero:ActFun(1080,"step == 12",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        npcmid05120()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        --npcmid05122()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        npcmid05121()
      end
    end

    --任务步骤结构开始 0513
    if(Hero:ActFun(1080,"step == 13",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        --npcmid05130()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        npcmid05132()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        --npcmid05131()
      end
    end

    --任务步骤结构开始 0514
    if(Hero:ActFun(1080,"step == 14",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        npcmid05140()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        npcmid05142()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        npcmid05141()
      end
    end

    --任务步骤结构开始 0515
    if(Hero:ActFun(1080,"step == 15",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        npcmid05150()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        --npcmid05152()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        npcmid05151()
      end
    end

    --任务步骤结构开始 0520
    if(Hero:ActFun(1080,"step == 20",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        --npcmid05200()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        npcmid05202()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        --npcmid05201()
      end
    end

    --任务步骤结构开始 0521
    if(Hero:ActFun(1080,"step == 21",5) == true)then
      if(Hero:ActFun(1080,"task state 0",5) == true)then
        npcmid05210()
        elseif(Hero:ActFun(1080,"task state 2",5) == true)then
      elseif(Hero:ActFun(1080,"task state 3",5) == true)then
        --npcmid05212()
      elseif(Hero:ActFun(1080,"task state 1",5) == true)then
        npcmid05211()
      end
    end
    end
  end
end


--显示表尾
npcTail()

elseif(gContext==2050201)then
  npctask1()
elseif(gContext==2050202)then
  npctask2()
elseif(gContext==2050203)then
  npctask3()
elseif(gContext==2050204)then
  npctask4()
elseif(gContext==2050205)then
  npctask5()
elseif(gContext==2050206)then
  npctask6()
elseif(gContext==2050207)then
  npctask7()
elseif(gContext==2050208)then
  npctask8()
elseif(gContext==2050209)then
  npctask9()
elseif(gContext==2050210)then
  npctask10()
elseif(gContext==2050211)then
  npctask11()
elseif(gContext==2050212)then
  npctask12()
elseif(gContext==2050213)then
  npctask13()
elseif(gContext==2050214)then
  npctask14()
elseif(gContext==2050215)then
  npctask15()
elseif(gContext==2050216)then
  npctask16()
elseif(gContext==2050217)then
  npctask17()
elseif(gContext==2050218)then
  npctask18()
elseif(gContext==2050219)then
  npctask19()
elseif(gContext==2050220)then
  npctask20()
elseif(gContext==2050221)then
  npctask21()
elseif(gContext==2050222)then
  npctask22()
elseif(gContext==2050223)then
  npctask23()
elseif(gContext==2050224)then
  npctask24()
end
