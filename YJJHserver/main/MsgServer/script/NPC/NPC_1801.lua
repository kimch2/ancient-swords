--表头	
function npctop1()  
  Hero:ActFun(101,"&&<0_再好的手艺，也敌不过哭泣的心……>",0)
end

--功能选项

--任务2422 
function npcmid024220()
  Hero:ActFun(102,"[44]崇拜者的烦恼 2180101",0)  --接任务
end

function npcmid024221()
  Hero:ActFun(102,"[3]崇拜者的烦恼 2180102",0)  --未完成
end

function npcmid024222()
  Hero:ActFun(102,"[22]崇拜者的烦恼 2180101",0)  --交任务
end

--任务2501 
function npcmid025010()
  Hero:ActFun(102,"[44]南仙的烦恼 2180103",0)  --接任务
end

function npcmid025011()
  Hero:ActFun(102,"[3]南仙的烦恼 2180104",0)  --未完成
end

function npcmid025012()
  Hero:ActFun(102,"[22]南仙的烦恼 2180103",0)  --交任务
end

--任务2502 
function npcmid025020()
  Hero:ActFun(102,"[44]哭泣的窑器（1） 2180105",0)  --接任务
end

function npcmid025021()
  Hero:ActFun(102,"[3]哭泣的窑器（1） 2180106",0)  --未完成
end

function npcmid025022()
  Hero:ActFun(102,"[22]哭泣的窑器（1） 2180105",0)  --交任务
end

--任务2503 
function npcmid025030()
  Hero:ActFun(102,"[44]哭泣的窑器（2） 2180107",0)  --接任务
end

function npcmid025031()
  Hero:ActFun(102,"[3]哭泣的窑器（2） 2180108",0)  --未完成
end

function npcmid025032()
  Hero:ActFun(102,"[22]哭泣的窑器（2） 2180107",0)  --交任务
end

--任务2504 
function npcmid025040()
  Hero:ActFun(102,"[44]弟弟的书信（1） 2180109",0)  --接任务
end

function npcmid025041()
  Hero:ActFun(102,"[3]弟弟的书信（1） 2180110",0)  --未完成
end

function npcmid025042()
  Hero:ActFun(102,"[22]弟弟的书信（1） 2180109",0)  --交任务
end

--任务2506 
function npcmid025060()
  Hero:ActFun(102,"[44]弟弟的书信（3） 2180111",0)  --接任务
end

function npcmid025061()
  Hero:ActFun(102,"[3]弟弟的书信（3） 2180112",0)  --未完成
end

function npcmid025062()
  Hero:ActFun(102,"[22]弟弟的书信（3） 2180111",0)  --交任务
end

--任务2507 
function npcmid025070()
  Hero:ActFun(102,"[44]投其所好 2180113",0)  --接任务
end

function npcmid025071()
  Hero:ActFun(102,"[3]投其所好 2180114",0)  --未完成
end

function npcmid025072()
  Hero:ActFun(102,"[22]投其所好 2180113",0)  --交任务
end

--任务2508 
function npcmid025080()
  Hero:ActFun(102,"[44]狩猎（1） 2180115",0)  --接任务
end

function npcmid025081()
  Hero:ActFun(102,"[3]狩猎（1） 2180116",0)  --未完成
end

function npcmid025082()
  Hero:ActFun(102,"[22]狩猎（1） 2180115",0)  --交任务
end

--任务2509 
function npcmid025090()
  Hero:ActFun(102,"[44]狩猎（2） 2180117",0)  --接任务
end

function npcmid025091()
  Hero:ActFun(102,"[3]狩猎（2） 2180118",0)  --未完成
end

function npcmid025092()
  Hero:ActFun(102,"[22]狩猎（2） 2180117",0)  --交任务
end

--任务2512 
function npcmid025120()
  Hero:ActFun(102,"[44]叛徒（1） 2180119",0)  --接任务
end

function npcmid025121()
  Hero:ActFun(102,"[3]叛徒（1） 2180120",0)  --未完成
end

function npcmid025122()
  Hero:ActFun(102,"[22]叛徒（1） 2180119",0)  --交任务
end

--任务2513 
function npcmid025130()
  Hero:ActFun(102,"[44]叛徒（2） 2180121",0)  --接任务
end

function npcmid025131()
  Hero:ActFun(102,"[3]叛徒（2） 2180122",0)  --未完成
end

function npcmid025132()
  Hero:ActFun(102,"[22]叛徒（2） 2180121",0)  --交任务
end

--任务2515 
function npcmid025150()
  Hero:ActFun(102,"[44]最后的心愿（1） 2180123",0)  --接任务
end

function npcmid025151()
  Hero:ActFun(102,"[3]最后的心愿（1） 2180124",0)  --未完成
end

function npcmid025152()
  Hero:ActFun(102,"[22]最后的心愿（1） 2180123",0)  --交任务
end

--任务2516 
function npcmid025160()
  Hero:ActFun(102,"[44]最后的心愿（2） 2180125",0)  --接任务
end

function npcmid025161()
  Hero:ActFun(102,"[3]最后的心愿（2） 2180126",0)  --未完成
end

function npcmid025162()
  Hero:ActFun(102,"[22]最后的心愿（2） 2180125",0)  --交任务
end

--任务2517 
function npcmid025170()
  Hero:ActFun(102,"[44]最后的心愿（3） 2180127",0)  --接任务
end

function npcmid025171()
  Hero:ActFun(102,"[3]最后的心愿（3） 2180128",0)  --未完成
end

function npcmid025172()
  Hero:ActFun(102,"[22]最后的心愿（3） 2180127",0)  --交任务
end

--任务2523 
function npcmid025230()
  Hero:ActFun(102,"[44]琴笛合奏（3） 2180129",0)  --接任务
end

function npcmid025231()
  Hero:ActFun(102,"[3]琴笛合奏（3） 2180130",0)  --未完成
end

function npcmid025232()
  Hero:ActFun(102,"[22]琴笛合奏（3） 2180129",0)  --交任务
end

--任务2524 
function npcmid025240()
  Hero:ActFun(102,"[44]南塔之旅 2180131",0)  --接任务
end

function npcmid025241()
  Hero:ActFun(102,"[3]南塔之旅 2180132",0)  --未完成
end

function npcmid025242()
  Hero:ActFun(102,"[22]南塔之旅 2180131",0)  --交任务
end


--转向选项 02422
function npctask1()
  Hero:ActFun(1046,"24 22",3)
end

function npctask2()
  Hero:ActFun(1046,"24 22",29)
end

--转向选项 02501
function npctask3()
  Hero:ActFun(1046,"25 1",3)
end

function npctask4()
  Hero:ActFun(1046,"25 1",29)
end

--转向选项 02502
function npctask5()
  Hero:ActFun(1046,"25 2",3)
end

function npctask6()
  Hero:ActFun(1046,"25 2",29)
end

--转向选项 02503
function npctask7()
  Hero:ActFun(1046,"25 3",3)
end

function npctask8()
  Hero:ActFun(1046,"25 3",29)
end

--转向选项 02504
function npctask9()
  Hero:ActFun(1046,"25 4",3)
end

function npctask10()
  Hero:ActFun(1046,"25 4",29)
end

--转向选项 02506
function npctask11()
  Hero:ActFun(1046,"25 6",3)
end

function npctask12()
  Hero:ActFun(1046,"25 6",29)
end

--转向选项 02507
function npctask13()
  Hero:ActFun(1046,"25 7",3)
end

function npctask14()
  Hero:ActFun(1046,"25 7",29)
end

--转向选项 02508
function npctask15()
  Hero:ActFun(1046,"25 8",3)
end

function npctask16()
  Hero:ActFun(1046,"25 8",29)
end

--转向选项 02509
function npctask17()
  Hero:ActFun(1046,"25 9",3)
end

function npctask18()
  Hero:ActFun(1046,"25 9",29)
end

--转向选项 02512
function npctask19()
  Hero:ActFun(1046,"25 12",3)
end

function npctask20()
  Hero:ActFun(1046,"25 12",29)
end

--转向选项 02513
function npctask21()
  Hero:ActFun(1046,"25 13",3)
end

function npctask22()
  Hero:ActFun(1046,"25 13",29)
end

--转向选项 02515
function npctask23()
  Hero:ActFun(1046,"25 15",3)
end

function npctask24()
  Hero:ActFun(1046,"25 15",29)
end

--转向选项 02516
function npctask25()
  Hero:ActFun(1046,"25 16",3)
end

function npctask26()
  Hero:ActFun(1046,"25 16",29)
end

--转向选项 02517
function npctask27()
  Hero:ActFun(1046,"25 17",3)
end

function npctask28()
  Hero:ActFun(1046,"25 17",29)
end

--转向选项 02523
function npctask29()
  Hero:ActFun(1046,"25 23",3)
end

function npctask20()
  Hero:ActFun(1046,"25 23",29)
end

--转向选项 02524
function npctask31()
  Hero:ActFun(1046,"25 24",3)
end

function npctask32()
  Hero:ActFun(1046,"25 24",29)
end



--表尾
function npcTail()
  Hero:ActFun(103,"",0)
end 


--显示选项
if(gContext==2180100)then
--显示表头
 npctop1()

  --任务结构链开始
  if(Hero:ActFun(1001,"level >= 75",0) == true)then
  if(Hero:ActFun(1080,"mask == 24",24) == false)then
  if(Hero:ActFun(1080,"task has 0",24) == true)then

    --任务步骤结构开始 02422
    if(Hero:ActFun(1080,"step == 22",24) == true)then
      if(Hero:ActFun(1080,"task state 0",24) == true)then  --接任务选项
        --npcmid024220()
        elseif(Hero:ActFun(1080,"task state 2",24) == true)then
      elseif(Hero:ActFun(1080,"task state 3",24) == true)then  --完成选项
        npcmid024222()
      elseif(Hero:ActFun(1080,"task state 1",24) == true)then  --未完成选项
        --npcmid024221()
      end
    end

  end
  end
end

  --任务结构链开始
  if(Hero:ActFun(1001,"level >= 80",0) == true)then
  if(Hero:ActFun(1080,"mask == 25",25) == false)then
  if(Hero:ActFun(1080,"task has 0",25) == true)then

    --任务步骤结构开始 02501
    if(Hero:ActFun(1080,"step == 1",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        npcmid025010()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        npcmid025012()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        npcmid025011()
      end
    end

    --任务步骤结构开始 02502
    if(Hero:ActFun(1080,"step == 2",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        npcmid025020()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        --npcmid025022()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        npcmid025021()
      end
    end

    --任务步骤结构开始 02503
    if(Hero:ActFun(1080,"step == 3",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        --npcmid025030()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        npcmid025032()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        --npcmid025031()
      end
    end

    --任务步骤结构开始 02504
    if(Hero:ActFun(1080,"step == 4",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        npcmid025040()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        --npcmid025042()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        npcmid025041()
      end
    end

    --任务步骤结构开始 02506
    if(Hero:ActFun(1080,"step == 6",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        --npcmid025060()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        npcmid025062()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        --npcmid025061()
      end
    end

    --任务步骤结构开始 02507
    if(Hero:ActFun(1080,"step == 7",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        npcmid025070()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        npcmid025072()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        npcmid025071()
      end
    end

    --任务步骤结构开始 02508
    if(Hero:ActFun(1080,"step == 8",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        npcmid025080()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        npcmid025082()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        npcmid025081()
      end
    end

    --任务步骤结构开始 02509
    if(Hero:ActFun(1080,"step == 9",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        npcmid025090()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        --npcmid025092()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        npcmid025091()
      end
    end

    --任务步骤结构开始 02512
    if(Hero:ActFun(1080,"step == 12",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        --npcmid025120()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        npcmid025122()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        --npcmid025121()
      end
    end

    --任务步骤结构开始 02513
    if(Hero:ActFun(1080,"step == 13",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        npcmid025130()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        --npcmid025132()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        npcmid025131()
      end
    end

    --任务步骤结构开始 02515
    if(Hero:ActFun(1080,"step == 15",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        --npcmid025150()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        npcmid025152()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        --npcmid025151()
      end
    end

    --任务步骤结构开始 02516
    if(Hero:ActFun(1080,"step == 16",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        npcmid025160()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        npcmid025162()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        npcmid025161()
      end
    end

    --任务步骤结构开始 02517
    if(Hero:ActFun(1080,"step == 17",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        npcmid025170()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        --npcmid025172()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        npcmid025171()
      end
    end

    --任务步骤结构开始 02523
    if(Hero:ActFun(1080,"step == 23",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        --npcmid025230()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        npcmid025232()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        --npcmid025231()
      end
    end

    --任务步骤结构开始 02524
    if(Hero:ActFun(1080,"step == 24",25) == true)then
      if(Hero:ActFun(1080,"task state 0",25) == true)then  --接任务选项
        npcmid025240()
        elseif(Hero:ActFun(1080,"task state 2",25) == true)then
      elseif(Hero:ActFun(1080,"task state 3",25) == true)then  --完成选项
        --npcmid025242()
      elseif(Hero:ActFun(1080,"task state 1",25) == true)then  --未完成选项
        npcmid025241()
      end
    end


	else
	npcmid025010() 

  end
  end
end
 
 --显示表尾
 npcTail()
elseif(gContext==2180101)then
  npctask1()
elseif(gContext==2180102)then
  npctask2()
elseif(gContext==2180103)then
  npctask3()
elseif(gContext==2180104)then
  npctask4()
elseif(gContext==2180105)then
  npctask5()
elseif(gContext==2180106)then
  npctask6()
elseif(gContext==2180107)then
  npctask7()
elseif(gContext==2180108)then
  npctask8()
elseif(gContext==2180109)then
  npctask9()
elseif(gContext==2180110)then
  npctask10()
elseif(gContext==2180111)then
  npctask11()
elseif(gContext==2180112)then
  npctask12()
elseif(gContext==2180113)then
  npctask13()
elseif(gContext==2180114)then
  npctask14()
elseif(gContext==2180115)then
  npctask15()
elseif(gContext==2180116)then
  npctask16()
elseif(gContext==2180117)then
  npctask17()
elseif(gContext==2180118)then
  npctask18()
elseif(gContext==2180119)then
  npctask19()
elseif(gContext==2180120)then
  npctask20()
elseif(gContext==2180121)then
  npctask21()
elseif(gContext==2180122)then
  npctask22()
elseif(gContext==2180123)then
  npctask23()
elseif(gContext==2180124)then
  npctask24()
elseif(gContext==2180125)then
  npctask25()
elseif(gContext==2180126)then
  npctask26()
elseif(gContext==2180127)then
  npctask27()
elseif(gContext==2180128)then
  npctask28()
elseif(gContext==2180129)then
  npctask29()
elseif(gContext==2180130)then
  npctask30()
elseif(gContext==2180131)then
  npctask31()
elseif(gContext==2180132)then
  npctask32()
end