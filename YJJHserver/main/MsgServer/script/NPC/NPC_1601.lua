--表头	
function npctop1()  
  Hero:ActFun(101,"&&<0_花叶生生两不见，相念相惜永相失。>",0)
end

--功能选项
--任务2219 
function npcmid022190()
  Hero:ActFun(102,"[44]忘川荒村 2160101",0)  --接任务
end

function npcmid022191()
  Hero:ActFun(102,"[3]忘川荒村 2160102",0)  --未完成
end

function npcmid022192()
  Hero:ActFun(102,"[22]忘川荒村 2160101",0)  --交任务
end

--任务2301 
function npcmid023010()
  Hero:ActFun(102,"[44]回生草 2160103",0)  --接任务
end

function npcmid023011()
  Hero:ActFun(102,"[3]回生草 2160104",0)  --未完成
end

function npcmid023012()
  Hero:ActFun(102,"[22]回生草 2160103",0)  --交任务
end

--任务2302 
function npcmid023020()
  Hero:ActFun(102,"[44]孟婆汤（1） 2160105",0)  --接任务
end

function npcmid023021()
  Hero:ActFun(102,"[3]孟婆汤（1） 2160106",0)  --未完成
end

function npcmid023022()
  Hero:ActFun(102,"[22]孟婆汤（1） 2160105",0)  --交任务
end

--任务2303 
function npcmid023030()
  Hero:ActFun(102,"[44]孟婆汤（2） 2160107",0)  --接任务
end

function npcmid023031()
  Hero:ActFun(102,"[3]孟婆汤（2） 2160108",0)  --未完成
end

function npcmid023032()
  Hero:ActFun(102,"[22]孟婆汤（2） 2160107",0)  --交任务
end

--任务2304 
function npcmid023040()
  Hero:ActFun(102,"[44]生死轮回（1） 2160109",0)  --接任务
end

function npcmid023041()
  Hero:ActFun(102,"[3]生死轮回（1） 2160110",0)  --未完成
end

function npcmid023042()
  Hero:ActFun(102,"[22]生死轮回（1） 2160109",0)  --交任务
end

--任务2305 
function npcmid023050()
  Hero:ActFun(102,"[44]生死轮回（2） 2160111",0)  --接任务
end

function npcmid023051()
  Hero:ActFun(102,"[3]生死轮回（2） 2160112",0)  --未完成
end

function npcmid023052()
  Hero:ActFun(102,"[22]生死轮回（2） 2160111",0)  --交任务
end

--任务2306 
function npcmid023060()
  Hero:ActFun(102,"[44]忘川（1） 2160113",0)  --接任务
end

function npcmid023061()
  Hero:ActFun(102,"[3]忘川（1） 2160114",0)  --未完成
end

function npcmid023062()
  Hero:ActFun(102,"[22]忘川（1） 2160113",0)  --交任务
end

--任务2315 
function npcmid023150()
  Hero:ActFun(102,"[44]前世未了（1） 2160115",0)  --接任务
end

function npcmid023151()
  Hero:ActFun(102,"[3]前世未了（1） 2160116",0)  --未完成
end

function npcmid023152()
  Hero:ActFun(102,"[22]前世未了（1） 2160115",0)  --交任务
end

--任务2316 
function npcmid023160()
  Hero:ActFun(102,"[44]前世未了（2） 2160117",0)  --接任务
end

function npcmid023161()
  Hero:ActFun(102,"[3]前世未了（2） 2160118",0)  --未完成
end

function npcmid023162()
  Hero:ActFun(102,"[22]前世未了（2） 2160117",0)  --交任务
end

--任务2317 
function npcmid023170()
  Hero:ActFun(102,"[44]前世未了（3） 2160119",0)  --接任务
end

function npcmid023171()
  Hero:ActFun(102,"[3]前世未了（3） 2160120",0)  --未完成
end

function npcmid023172()
  Hero:ActFun(102,"[22]前世未了（3） 2160118",0)  --交任务
end

--任务2319 
function npcmid023190()
  Hero:ActFun(102,"[44]前世未了（5） 2160121",0)  --接任务
end

function npcmid023191()
  Hero:ActFun(102,"[3]前世未了（5） 2160122",0)  --未完成
end

function npcmid023192()
  Hero:ActFun(102,"[22]前世未了（5） 2160121",0)  --交任务
end

--任务2320 
function npcmid023200()
  Hero:ActFun(102,"[44]前尘往事皆成空 2160123",0)  --接任务
end

function npcmid023201()
  Hero:ActFun(102,"[3]前尘往事皆成空 2160124",0)  --未完成
end

function npcmid023202()
  Hero:ActFun(102,"[22]前尘往事皆成空 2160123",0)  --交任务
end

--转向选项 02219
function npctask1()
  Hero:ActFun(1046,"22 19",3)
end

function npctask2()
  Hero:ActFun(1046,"22 19",29)
end

--转向选项 02301
function npctask3()
  Hero:ActFun(1046,"23 1",3)
end

function npctask4()
  Hero:ActFun(1046,"23 1",29)
end

--转向选项 02302
function npctask5()
  Hero:ActFun(1046,"23 2",3)
end

function npctask6()
  Hero:ActFun(1046,"23 2",29)
end

--转向选项 02303
function npctask7()
  Hero:ActFun(1046,"23 3",3)
end

function npctask8()
  Hero:ActFun(1046,"23 3",29)
end

--转向选项 02304
function npctask9()
  Hero:ActFun(1046,"23 4",3)
end

function npctask10()
  Hero:ActFun(1046,"23 4",29)
end

--转向选项 02305
function npctask11()
  Hero:ActFun(1046,"23 5",3)
end

function npctask12()
  Hero:ActFun(1046,"23 5",29)
end

--转向选项 02306
function npctask13()
  Hero:ActFun(1046,"23 6",3)
end

function npctask14()
  Hero:ActFun(1046,"23 6",29)
end

--转向选项 02315
function npctask15()
  Hero:ActFun(1046,"23 15",3)
end

function npctask16()
  Hero:ActFun(1046,"23 15",29)
end

--转向选项 02316
function npctask17()
  Hero:ActFun(1046,"23 16",3)
end

function npctask18()
  Hero:ActFun(1046,"23 16",29)
end

--转向选项 02317
function npctask19()
  Hero:ActFun(1046,"23 17",3)
end

function npctask20()
  Hero:ActFun(1046,"23 17",29)
end

--转向选项 02319
function npctask21()
  Hero:ActFun(1046,"23 19",3)
end

function npctask22()
  Hero:ActFun(1046,"23 19",29)
end

--转向选项 02320
function npctask23()
  Hero:ActFun(1046,"23 20",3)
end

function npctask24()
  Hero:ActFun(1046,"23 20",29)
end

--表尾
function npcTail()
  Hero:ActFun(103,"",0)
end 


--显示选项
if(gContext==2160100)then
--显示表头
 npctop1()


  --任务结构链开始
  if(Hero:ActFun(1001,"level >= 65",0) == true)then
  if(Hero:ActFun(1080,"mask == 22",22) == false)then
  if(Hero:ActFun(1080,"task has 0",22) == true)then

    --任务步骤结构开始 02219
    if(Hero:ActFun(1080,"step == 19",22) == true)then
      if(Hero:ActFun(1080,"task state 0",22) == true)then  --接任务选项
        --npcmid022190()
        elseif(Hero:ActFun(1080,"task state 2",22) == true)then
      elseif(Hero:ActFun(1080,"task state 3",22) == true)then  --完成选项
        npcmid022192()
      elseif(Hero:ActFun(1080,"task state 1",22) == true)then  --未完成选项
        --npcmid022191()
      end
    end

  end
  end
end

  --任务结构链开始
  if(Hero:ActFun(1001,"level >= 70",0) == true)then
  if(Hero:ActFun(1080,"mask == 23",23) == false)then
  if(Hero:ActFun(1080,"task has 0",23) == true)then

    --任务步骤结构开始 02301
    if(Hero:ActFun(1080,"step == 1",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        npcmid023010()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        npcmid023012()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        npcmid023011()
      end
    end

    --任务步骤结构开始 02302
    if(Hero:ActFun(1080,"step == 2",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        npcmid023020()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        npcmid023022()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        npcmid023021()
      end
    end

    --任务步骤结构开始 02303
    if(Hero:ActFun(1080,"step == 3",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        npcmid023030()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        npcmid023032()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        npcmid023031()
      end
    end

    --任务步骤结构开始 02304
    if(Hero:ActFun(1080,"step == 4",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        npcmid023040()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        --npcmid023042()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        npcmid023041()
      end
    end

    --任务步骤结构开始 02305
    if(Hero:ActFun(1080,"step == 5",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        --npcmid023050()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        npcmid023052()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        --npcmid023051()
      end
    end

    --任务步骤结构开始 02306
    if(Hero:ActFun(1080,"step == 6",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        npcmid023060()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        --npcmid023062()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        npcmid023061()
      end
    end

    --任务步骤结构开始 02315
    if(Hero:ActFun(1080,"step == 15",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        --npcmid023150()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        npcmid023152()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        --npcmid023151()
      end
    end

    --任务步骤结构开始 02316
    if(Hero:ActFun(1080,"step == 16",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        npcmid023160()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        npcmid023162()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        npcmid023161()
      end
    end

    --任务步骤结构开始 02317
    if(Hero:ActFun(1080,"step == 17",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        npcmid023170()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        --npcmid023172()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        npcmid023171()
      end
    end

    --任务步骤结构开始 02319
    if(Hero:ActFun(1080,"step == 19",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        --npcmid023190()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        npcmid023192()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        --npcmid023191()
      end
    end

    --任务步骤结构开始 02320
    if(Hero:ActFun(1080,"step == 20",23) == true)then
      if(Hero:ActFun(1080,"task state 0",23) == true)then  --接任务选项
        npcmid023200()
        elseif(Hero:ActFun(1080,"task state 2",23) == true)then
      elseif(Hero:ActFun(1080,"task state 3",23) == true)then  --完成选项
        --npcmid023202()
      elseif(Hero:ActFun(1080,"task state 1",23) == true)then  --未完成选项
        npcmid023201()
      end
    end

	else
	npcmid023010()

  end
  end
end
 
 --显示表尾
 npcTail()
elseif(gContext==2160101)then
  npctask1()
elseif(gContext==2160102)then
  npctask2()
elseif(gContext==2160103)then
  npctask3()
elseif(gContext==2160104)then
  npctask4()
elseif(gContext==2160105)then
  npctask5()
elseif(gContext==2160106)then
  npctask6()
elseif(gContext==2160107)then
  npctask7()
elseif(gContext==2160108)then
  npctask8()
elseif(gContext==2160109)then
  npctask9()
elseif(gContext==2160110)then
  npctask10()
elseif(gContext==2160111)then
  npctask11()
elseif(gContext==2160112)then
  npctask12()
elseif(gContext==2160113)then
  npctask13()
elseif(gContext==2160114)then
  npctask14()
elseif(gContext==2160115)then
  npctask15()
elseif(gContext==2160116)then
  npctask16()
elseif(gContext==2160117)then
  npctask17()
elseif(gContext==2160118)then
  npctask18()
elseif(gContext==2160119)then
  npctask19()
elseif(gContext==2160120)then
  npctask20()
elseif(gContext==2160121)then
  npctask21()
elseif(gContext==2160122)then
  npctask22()
elseif(gContext==2160123)then
  npctask23()
elseif(gContext==2160124)then
  npctask24()
end